/* App-wide variables and resets */
:root{
  --love-pink: #ff4d6d;
  --soft-blush: #ffd6e0;
  --bg: #fff0f5;
  --card: #ffffffcc;
  --text: #2b2b2b;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:linear-gradient(120deg,var(--bg),#fff);font-family:Poppins,system-ui,Arial;color:var(--text)}

/* App container */
.valentine-app{position:relative;min-height:100vh;overflow:hidden}
.bg{position:fixed;inset:0;z-index:0;pointer-events:none}
.glow{position:absolute;inset:-10% -20%;background:radial-gradient(circle at 20% 30%, rgba(255,77,109,0.18), transparent 12%), radial-gradient(circle at 80% 70%, rgba(255,214,224,0.12), transparent 15%);filter:blur(40px)}
.hearts-bg{position:absolute;inset:0;opacity:0.12}
.hearts-bg .h{position:absolute;font-size:10rem;transform:translateY(-10px);animation:floaty 12s ease-in-out infinite;mix-blend-mode:screen}
.hearts-bg .h1{left:5%;top:10%;font-size:6rem}
.hearts-bg .h2{left:70%;top:20%;font-size:8rem;animation-delay:2s}
.hearts-bg .h3{left:40%;top:60%;font-size:7rem;animation-delay:4s}
.sparkles i{position:absolute;width:6px;height:6px;background:linear-gradient(45deg,#fff,#ffd6e0);border-radius:50%;box-shadow:0 0 8px rgba(255,214,224,0.6);animation:twinkle 3s infinite}
.sparkles i:nth-child(1){left:20%;top:30%}
.sparkles i:nth-child(2){left:10%;top:70%;animation-delay:1s}
.sparkles i:nth-child(3){left:80%;top:40%;animation-delay:2s}

@keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}
@keyframes twinkle{0%,100%{opacity:.4;transform:scale(.9)}50%{opacity:1;transform:scale(1.2)}}

/* Scenes layout */
.scenes{position:relative;z-index:2;height:100vh;overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch}
.scene{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:4vmin;scroll-snap-align:start}
.scene.active{ /* keep subtle accent but don't hide on scroll */ }

/* Landing */
.landing{display:flex;flex-direction:column;align-items:center;gap:1.6rem;text-align:center}
.greeting{font-family:'Great Vibes',cursive;font-size:6rem;margin:0;color:var(--love-pink);text-shadow:0 6px 30px rgba(255,77,109,0.08)}
.sub{font-size:1.5rem;color:#6b4a4a;margin:0}
.open-btn{margin-top:1.2rem;padding:0.9rem 1.6rem;border-radius:999px;background:linear-gradient(90deg,var(--love-pink),#ff8aa0);border:none;color:white;font-weight:600;box-shadow:0 8px 30px rgba(255,77,109,0.18);cursor:pointer;backdrop-filter:blur(6px);transition:transform .22s ease}
.open-btn:hover{transform:translateY(-4px) scale(1.02)}
.credit{margin-top:10px;font-size:0.92rem;color:#6b4a4a;opacity:0.9}

/* Letter/Glass card */
.letter-wrapper{display:flex;align-items:center;justify-content:center}
.card{width:min(720px,92%);background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.72));border-radius:18px;padding:3rem;box-shadow:0 12px 40px rgba(43,43,43,0.08);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.6)}
.typewriter{font-family:Poppins,Arial;font-size:1.25rem;line-height:1.6;color:var(--text);margin:0}
.typewriter .big{display:block;margin-top:1rem;font-size:1.45rem;font-family:'Great Vibes',cursive;color:var(--love-pink)}
.card-actions{display:flex;justify-content:flex-end;margin-top:1.6rem}
.card-actions button{padding:0.6rem 1.2rem;border-radius:10px;border:none;background:var(--soft-blush);cursor:pointer}

/* Question scene */
.question-scene{text-align:center}
.ask{font-family:'Great Vibes',cursive;font-size:4rem;margin:0;color:var(--love-pink);text-shadow:0 8px 24px rgba(255,77,109,0.08)}
.choices{position:relative;margin-top:2rem;display:flex;gap:2rem;align-items:center;justify-content:center;height:140px}
.yes-btn{padding:1rem 1.6rem;border-radius:14px;background:linear-gradient(90deg,#fff,#fff7f8);border:2px solid rgba(255,77,109,0.14);box-shadow:0 8px 30px rgba(255,77,109,0.12);cursor:pointer;font-weight:700;font-size:1.1rem;transition:transform .18s ease,box-shadow .18s ease}
.yes-btn:hover{box-shadow:0 14px 50px rgba(255,77,109,0.24);transform:scale(1.06)}
.no-wrapper{position:relative;width:260px;height:80px}
.no-btn{position:absolute;left:20px;top:20px;padding:0.6rem 1rem;border-radius:12px;border:none;background:#fff;color:#6b6b6b;box-shadow:0 8px 30px rgba(0,0,0,0.06);cursor:pointer}
.hint{color:#7a5a5a;margin-top:1rem}

/* decorative enhancements */
.ribbon{position:absolute;top:6%;left:-8%;width:40%;height:220px;background:linear-gradient(90deg,var(--soft-blush),transparent);transform:skewY(-12deg);opacity:.18;pointer-events:none}
.bokeh{position:absolute;right:5%;top:10%;width:260px;height:260px;border-radius:50%;background:radial-gradient(circle at 30% 30%, rgba(255,214,224,0.35), rgba(255,214,224,0.05));filter:blur(24px);pointer-events:none}
.vignette{position:fixed;inset:0;pointer-events:none;background:radial-gradient(50% 50% at 50% 40%, transparent 40%, rgba(0,0,0,0.04));mix-blend-mode:multiply}
.lantern{position:absolute;bottom:6%;left:6%;width:36px;height:36px;border-radius:50%;background:linear-gradient(180deg,#fff0f5,#ffd6e0);box-shadow:0 10px 24px rgba(255,77,109,0.16);opacity:.9;animation:lantern 6s ease-in-out infinite}
@keyframes lantern{0%{transform:translateY(0)}50%{transform:translateY(-14px)}100%{transform:translateY(0)}}

.no-btn.final{background:linear-gradient(90deg,#fff7f8,#fff);color:var(--love-pink);box-shadow:0 10px 30px rgba(255,77,109,0.18)}

/* subtle film grain */
.valentine-app::before{content:'';position:fixed;inset:0;pointer-events:none;background-image:linear-gradient(rgba(255,255,255,0.02),rgba(0,0,0,0.02));mix-blend-mode:overlay}

/* Memory: polaroid style photo */
.memory-scene{display:flex;flex-direction:column;align-items:center;gap:1.6rem;position:relative;padding-bottom:10vh}
.photo-polaroid{width:280px;padding:12px 12px 28px;background:var(--card);border-radius:12px;box-shadow:0 18px 44px rgba(43,43,43,0.11);transform:rotate(-3deg);transition:transform .6s ease;cursor:pointer;position:relative}
.photo-polaroid img{display:block;width:100%;height:auto;border-radius:6px;border:5px solid rgba(255,255,255,0.92);box-shadow:0 8px 26px rgba(255,77,109,0.06);}
.photo-polaroid:hover{transform:rotate(0deg) translateY(-6px)}
.photo-polaroid::after{content:'';position:absolute;inset:auto 12px 10px 12px;border-radius:6px;box-shadow:0 10px 30px rgba(255,77,109,0.06);pointer-events:none}
.caption{text-align:center;margin-top:8px;color:#5b3b3b;font-weight:600}
.memory-texts p{font-size:1.3rem;color:#5b3b3b}
.reveal-btn{margin-top:0;padding:0.7rem 1.1rem;border-radius:12px;background:linear-gradient(90deg,var(--love-pink),#ff8aa0);color:white;border:none;cursor:pointer;box-shadow:0 12px 30px rgba(255,77,109,0.14);transition:transform .22s;position:absolute;left:50%;transform:translateX(-50%);bottom:6vh;z-index:6}
.reveal-btn:hover{transform:translateX(-50%) translateY(-4px) scale(1.02)}

/* Final card placeholder + reveal animation */
.big-photo{width:380px;height:260px;display:flex;align-items:center;justify-content:center;perspective:1200px}
.card-placeholder{width:320px;height:220px;border-radius:16px;background:linear-gradient(180deg,#fff8fb,#ffeef4);display:flex;align-items:center;justify-content:center;box-shadow:0 30px 90px rgba(43,43,43,0.12);border:1px solid rgba(255,77,109,0.06)}
.card-front{font-family:'Great Vibes',cursive;font-size:2rem;color:var(--love-pink)}
.card-reveal img{width:100%;height:auto;border-radius:12px;border:8px solid rgba(255,255,255,0.8);box-shadow:0 40px 100px rgba(0,0,0,0.15);transform-origin:center;animation:flipIn 700ms cubic-bezier(.2,.9,.25,1) forwards}
@keyframes flipIn{0%{transform:rotateX(90deg) scale(.8);opacity:0}60%{transform:rotateX(-12deg) scale(1.02);opacity:1}100%{transform:rotateX(0) scale(1)}}

/* petals */
.petal{position:absolute;top:-6vh;width:22px;height:18px;background:radial-gradient(circle at 30% 30%,#fff,#ffd6e0);border-radius:40% 60% 60% 40%/50% 40% 60% 50%;opacity:.95;transform:rotate(18deg);box-shadow:0 8px 22px rgba(255,77,109,0.18);animation-name:petalFall,petalSway;animation-timing-function:linear,ease-in-out;animation-iteration-count:1,infinite}
.petal.p1{left:12%;top:-8%}
.petal.p2{left:32%;top:-6%}
.petal.p3{left:66%;top:-10%}
.petal.p4{left:86%;top:-12%}
@keyframes petalFall{0%{transform:translateY(-10vh) rotate(0) scale(.8);opacity:1}70%{opacity:1}100%{transform:translateY(120vh) rotate(420deg) scale(1);opacity:0}}
@keyframes petalSway{0%{transform:translateX(0) rotate(0)}50%{transform:translateX(24px) rotate(20deg)}100%{transform:translateX(-8px) rotate(-10deg)}}

/* small shimmer on open button */
.open-btn{position:relative;overflow:hidden}
.open-btn::after{content:'';position:absolute;inset:0;background:linear-gradient(120deg,transparent,rgba(255,255,255,0.12),transparent);transform:translateX(-120%);transition:transform .9s ease}
.open-btn:hover::after{transform:translateX(120%)}

/* Final card design (scene 4) */
.card-final{width:360px;height:240px;border-radius:18px;background:linear-gradient(180deg,#fff,#fff6fb);display:flex;align-items:center;justify-content:center;box-shadow:0 40px 120px rgba(43,43,43,0.14);border:1px solid rgba(255,77,109,0.08)}
.card-front.final-card{font-family:Poppins, Arial, sans-serif;color:var(--text);padding:2rem;text-align:center}
.card-front.final-card h3{font-family:'Great Vibes',cursive;font-size:2.8rem;margin:0 0 .6rem;color:var(--love-pink)}
.card-front.final-card p{margin:0;color:#6b4a4a;font-size:1rem}
.card-front.final-card .small-heart{font-size:1.6rem;margin-top:12px}

/* Celebration visuals */
.celebrate{text-align:center;color:white;padding-top:6vh}
.celebrate{background:linear-gradient(180deg,var(--love-pink),#ffafc7);height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}
.celebrate .large{font-size:1.6rem}
.big-photo img{width:360px;border-radius:16px;border:6px solid rgba(255,255,255,0.6);box-shadow:0 30px 80px rgba(0,0,0,0.15)}
.final{margin-top:1.2rem;opacity:0.95}

/* small ephemeral elements: burst hearts, confetti */
.burst-heart{position:absolute;width:18px;height:18px;background:var(--love-pink);transform:rotate(45deg);clip-path:polygon(50% 0, 100% 35%, 80% 100%, 50% 80%, 20% 100%, 0 35%);animation:burst var(--d) forwards;z-index:5}
@keyframes burst{0%{opacity:1;transform:translateY(0) scale(.8)}100%{opacity:0;transform:translateY(-90px) scale(1.2)}}
.confetti{position:absolute;top:-10px;width:10px;height:18px;opacity:0.95;transform:rotate(0);animation:confetti-fall 3s linear forwards}
@keyframes confetti-fall{0%{transform:translateY(-10vh) rotate(0)}100%{transform:translateY(110vh) rotate(540deg);opacity:1}}
.drop-heart{position:absolute;top:-20px;font-size:18px;color:var(--soft-blush);animation:drop 4s linear forwards}
@keyframes drop{0%{transform:translateY(-10vh)}100%{transform:translateY(120vh);opacity:0}}

/* small helpers */
.big{font-size:1.6rem}

@media (max-width:720px){
  .greeting{font-size:3.6rem}
  .typewriter{font-size:1rem}
  .big-photo img{width:260px}
  .photo-polaroid{width:86%}
  .choices{flex-direction:column;height:auto}
  .no-wrapper{width:140px;height:56px}
  .memory-scene{padding-bottom:8vh}
  .reveal-btn{bottom:4vh}
  .photo-polaroid{width:92%}
}

